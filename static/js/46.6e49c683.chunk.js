"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[46],{4046:function(e,s,t){t.r(s),t.d(s,{default:function(){return W}});var n=t(5671),o=t(3144),i=t(136),r=t(516),a=t(1413),u=t(2791),l=t(8687),c=t(6301),d=t(7689),f=t(2982),h="MyPosts_myPost__Bpsq5",p="MyPosts_posts__sUB9F",j="Post_item__R3C4g",x=t(184),m=function(e){return(0,x.jsxs)("div",{className:j,children:[(0,x.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbj6F59q51BqwKiBhCrcu9kWmoVXxceKCzsw&usqp=CAU",alt:"ads"}),e.message,(0,x.jsx)("div",{children:(0,x.jsxs)("span",{children:["Like ",e.count]})})]})},v=t(704),b=t(3079),g=t(1513),P=(0,b.B)(10),_=function(e){var s=(0,f.Z)(e.post).reverse().map((function(e){return(0,x.jsx)(m,{message:e.message,count:e.count},e.id)}));return(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("h2",{children:"my post"}),(0,x.jsx)(S,{onSubmit:function(s){e.onAddPost(s.newDialog),s.newDialog=""}}),(0,x.jsx)("div",{className:p,children:s})]})},S=(0,v.Z)({form:"dialogAddPost"})((function(e){return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsx)("div",{children:(0,g.SP)("Write your post!!","newDialog",[b.C,P],g.gx)}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add post"})})]})})),k=u.memo(_),y=(0,l.$j)((function(e){return{post:e.profilePage.postData}}),{onAddPost:c.Nw.addPostActionCreator})(k),I=t(885),w=t(1801),A="ProfileInfo_content__A-bMj",N="ProfileInfo_status__PZVgO",C="ProfileInfo_mainFoto__j2nWR",Z="ProfileInfo_contact__XREnv",F="ProfileInfo_conteiner__N6QoW",M="ProfileInfo_inputCheckbox__PjsSE",U="ProfileInfo_allDivs__nzYJR",D=function(e){var s=(0,u.useState)(!1),t=(0,I.Z)(s,2),n=t[0],o=t[1],i=(0,u.useState)(e.status),r=(0,I.Z)(i,2),a=r[0],l=r[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);return(0,x.jsxs)("div",{className:N,children:[!n&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Status"}),": ",(0,x.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"---------------"})]}),n&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},value:a,onBlur:function(){o(!1),e.updateStatus(a)},autoFocus:!0})})]})},O=t(7712),E=t(1525),J=(0,v.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error;return(0,x.jsxs)("form",{onSubmit:s,children:[(0,x.jsx)("div",{className:F,children:(0,x.jsx)("button",{children:"save"})}),n&&(0,x.jsx)("div",{className:E.Z.formSummaryError,children:n}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Full name"}),": ",(0,g.SP)("Full name","fullName",[],g.II)]}),(0,x.jsxs)("div",{className:M,children:[(0,g.SP)("","lookingForAJob",[],g.II,{type:"checkbox"}),(0,x.jsx)("b",{children:"Looking for a job"}),":"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My professional skills"}),":",(0,g.SP)("My professional skills","lookingForAJobDescription",[],g.gx)]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me"}),":",(0,g.SP)("About me","aboutMe",[],g.gx)]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contacts"}),":",Object.keys(t.contacts).map((function(e){return(0,x.jsx)("div",{className:Z,children:(0,x.jsxs)("b",{children:[e,":",(0,g.SP)(e,"contacts."+e,[],g.II)]})},e)}))]})]})})),R=function(e){var s=e.profile,t=e.isOwner,n=e.goToEditMode;return(0,x.jsxs)("div",{className:U,children:[t&&(0,x.jsx)("div",{children:(0,x.jsx)("button",{onClick:n,children:"edit"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(s.contacts).map((function(e){return(0,x.jsx)(q,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},q=function(e){var s=e.contactTitle,t=e.contactValue;return(0,x.jsxs)("div",{className:Z,children:[(0,x.jsx)("b",{children:s}),": ",t]})},B=function(e){var s=e.profile,t=e.status,n=e.updateStatus,o=e.isOwner,i=e.savePhoto,r=e.saveProfile,a=(0,u.useState)(!1),l=(0,I.Z)(a,2),c=l[0],d=l[1];if(!s)return(0,x.jsx)(w.Z,{});return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:A,children:[(0,x.jsx)("img",{src:s.photos.large||O,alt:"images",className:C}),o&&(0,x.jsx)("input",{type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&i(e.target.files[0])}}),c?(0,x.jsx)(J,{initialValues:s,profile:s,onSubmit:function(e){r(e).then((function(){d(!1)}))}}):(0,x.jsx)(R,{profile:s,isOwner:o,goToEditMode:function(){d(!0)}}),(0,x.jsx)(D,{status:t,updateStatus:n})]})})},T=function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(B,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,x.jsx)(y,{})]})},z=t(7781);var V=function(e){(0,i.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,n.Z)(this,t),s.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId),e?(this.props.getUsersProfile(e),this.props.getStatus(e)):console.error("Id should existid in URL params or  on the state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return(0,x.jsx)(T,{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:function(e){throw new Error("Function not implemented.")},saveProfile:function(e){throw new Error("Function not implemented.")}})}}]),t}(u.Component),W=(0,z.qC)((0,l.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUsersProfile:c.XG,getStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju,saveProfile:c.Ii}),(function(e){return function(s){var t=(0,d.TH)(),n=(0,d.s0)(),o=(0,d.UO)();return(0,x.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{router:{location:t,navigate:n,params:o}}))}}))(V)}}]);
//# sourceMappingURL=46.6e49c683.chunk.js.map